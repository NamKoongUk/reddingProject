#
#Sat May 25 20:12:49 KST 2019
selectProduct=SELECT * FROM PRODUCT WHERE CNO\=?
getPayment=SELECT R.UPNO, UP.USE_DATE, UP.USE_START_TIME, UP.USE_END_TIME,P.PNAME, M.MNAME,M.PHONE, P.PRICE,A.CHANGE_NAME,A.FILE_PATH FROM RESERVATION R JOIN USE_PRODUCT UP ON(R.UPNO \= UP.UPNO) JOIN PRODUCT P ON(P.PNO \= UP.PNO) JOIN MEMBER M ON(P.CNO \= M.MNO) JOIN ATTACHMENT A ON(P.CNO \= A.MNO) WHERE R.MNO \= ? AND A.CNO_DIV\='대표' AND R.UPNO IN(
UpdatePassword=UPDATE MEMBER SET MPWD \= ? WHERE MID \= ?
loginSelect=SELECT * FROM MEMBER WHERE MID\=? AND MPWD\=? AND STATUS\='Y'
deleteQna=DELETE FROM BOARD WHERE BID \= ?
memberDelete=UPDATE MEMBER SET STATUS \= 'N', OUT_DATE \= SYSDATE WHERE MID \= ?
listQnaCount=SELECT COUNT(*) FROM MEMBER M JOIN COMPANY C ON(M.MNO \= C.CNO) WHERE C.CNO\=?
selectAttachment=SELECT * FROM ATTACHMENT WHERE MNO\=?
selectMember=SELECT * FROM MEMBER WHERE MNO\=?
insertComQnaReply=INSERT INTO REPLY VALUES (SEQ_REPLY.NEXTVAL , SYSDATE , ? ,? , ? , NULL)
updateMember=UPDATE MEMBER SET MPWD\=?, NICK_NAME\=?, PHONE\=?, EMERGEN_CON\=?, EMAIL\=?, GENDER\=?, MODIFY_DATE\=SYSDATE WHERE MID\=?
selectMemberId=SELECT MID FROM MEMBER WHERE MNAME \= ? AND EMAIL \= ?
selectComList=SELECT RNUM, ORIGIN_NAME, CNO_DIV, MNO, CHANGE_NAME, FILE_PATH, COM_LIKE, MNAME, PRICE FROM (SELECT ROWNUM RNUM, ORIGIN_NAME, CNO_DIV, M.MNO, CHANGE_NAME, FILE_PATH, COM_LIKE, MNAME, PRICE FROM MEMBER M LEFT JOIN PRODUCT P ON (M.MNO \= P.CNO) JOIN COMPANY C ON (C.CNO \= M.MNO) LEFT JOIN ATTACHMENT A ON (M.MNO \= A.MNO) WHERE (M.MNO,P.PRICE) IN (SELECT CNO,MIN(PRICE) FROM PRODUCT GROUP BY CNO ) AND a.cno_div \= '대표' AND C.COM_TYPE \= ? ORDER BY P.PRICE ASC) WHERE RNUM BETWEEN ? AND ?
nickChecked=SELECT COUNT(*) FROM MEMBER WHERE NICK_NAME \= ?
selectCount=SELECT (SELECT COUNT(*) FROM RESERVATION R WHERE R.MNO \= ? AND R.RSTATUS \= 10) RESWAIT, (SELECT COUNT(*) FROM RESERVATION R WHERE R.MNO \= ? AND R.RSTATUS \= 20) PAYWAIT, (SELECT COUNT(*) FROM PAY_HISTORY PH WHERE PH.MNO\= ? AND PH.PAY_DIV \=?) FINAL FROM DUAL
selectBoard=SELECT RNUM, BID, BCONTENT, MNAME, BDATE, CNO, REF_CNUM FROM( SELECT ROWNUM RNUM, B.BID, B.BCONTENT, M.MNAME, B.BDATE, C.CNO, B.REF_CNUM FROM BOARD B JOIN COMPANY C ON(B.REF_CNUM \= C.CNO) JOIN MEMBER M ON(B.BWRITER \= M.MNO) WHERE C.CNO \= ? ORDER BY B.BDATE DESC) WHERE RNUM BETWEEN ? AND ?
selectCompany=SELECT * FROM COMPANY WHERE CNO\=?
PasswordSelect=SELECT COUNT(*) FROM MEMBER WHERE MID \= ? AND MNAME \= ? AND EMAIL \= ?
insertMember=INSERT INTO MEMBER VALUES(SEQ_MNO.NEXTVAL, ?, ?, ?, ?, ?, ?, ?, ?, ?, DEFAULT, DEFAULT, ? , null , default , null , ? )
dynamicQuery=SELECT RNUM,PNAME,CNAME,RAPPLY_DATE,SUBNO,PRICE,RSTATUS,RESNO,UPNO,USE_DATE, USE_START_TIME, USE_END_TIME FROM ((SELECT ROWNUM RNUM,PNAME,SUBNO,CNAME,RAPPLY_DATE,PRICE,RSTATUS,RESNO,UPNO,USE_DATE, USE_START_TIME, USE_END_TIME FROM (SELECT P.PNAME PNAME,M.MNAME CNAME,R.RESNO RESNO,R.SUBNO SUBNO ,R.RAPPLY_DATE RAPPLY_DATE,P.PRICE PRICE ,R.RSTATUS RSTATUS,UP.UPNO UPNO,UP.USE_DATE USE_DATE,UP.USE_START_TIME USE_START_TIME, UP.USE_END_TIME USE_END_TIME FROM RESERVATION R JOIN USE_PRODUCT UP ON(R.UPNO \= UP.UPNO) JOIN PRODUCT P ON(UP.PNO \= P.PNO) JOIN COMPANY C ON(P.CNO \= C.CNO) JOIN MEMBER M ON (C.CNO \= M.MNO) WHERE R.MNO\= 2 AND R.RSTATUS \= 20 ORDER BY RAPPLY_DATE DESC))) WHERE RNUM BETWEEN 1 AND 10
memberIdSearch=SELECT COUNT(*) FROM MEMBER WHERE MNAME \= ? AND EMAIL \= ?
listComCount=SELECT COUNT(*) FROM MEMBER M JOIN COMPANY C ON(M.MNO \= C.CNO) WHERE C.COM_TYPE\=?
getPackage=SELECT R.UPNO,R.RSTATUS,R.RAPPLY_DATE, P.PNAME, P.PRICE, M.MNAME FROM RESERVATION R JOIN USE_PRODUCT UP ON(R.UPNO \= UP.UPNO) JOIN PRODUCT P ON(UP.PNO \= P.PNO) JOIN MEMBER M ON(P.CNO \= M.MNO) WHERE SUBNO \= ? AND R.MNO \= ?
selectComQnaDetail=SELECT B.BID , B.BTITLE , B.BWRITER , M.MNAME, M.NICK_NAME , B.BDATE , B.BCONTENT , B.BCATEGORY , B.BDIVISION , B.BMODIFY_DATE , R.REPLY_CODE , R.REPLY_DATE , R.REPLY_CONTENT , R.MNO FROM BOARD B LEFT JOIN REPLY R ON(B.BID \= R.BID) JOIN MEMBER M ON(M.MNO \= B.BWRITER) WHERE B.BID \= ? ORDER BY R.REPLY_DATE DESC
